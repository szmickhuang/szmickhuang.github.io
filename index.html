<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Mick随便写写</title>
  
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  
<link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">

  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url()">
        <div class='av-pic' style="background-image: url(/assets/They3.jpg)">
        </div>
    </section>
    <section class='menu'>
        <div>Mick随便写写</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <ul class="Index">
  
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/10/25/%E8%B0%83%E6%95%B4vi%E7%9A%84%E9%85%8D%E8%89%B2%E6%96%B9%E6%A1%88/">调整vi的配色方案</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-10-25T17:20:27.000Z" itemprop="datePublished">
    2023-10-26
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/Linux/">Linux</a> }
  </li>


  </ul>
  
  
</div>

    </header>
    <div>
      
        <p>由于我在windows里通过ssh登上我的云服务器进行编程练习。虽然大多数时候都是用vsc进行代码编写，但是有时候需要在terminal上临时修改代码以及一些script文件。但是，我发现在用vi的缺省配色方案时，经常有的关键字因为配色为深蓝，与背景的黑色极其相近，而无法看清。<br>因此，我搜了一下更改配色方案的办法：</p>
<ol>
<li><p>临时调整配色方案<br>直接在vi编辑文件时，用命令： <font color=red><em>colorscheme xxx</em></font> (xxx为配色方案名称)</p>
</li>
<li><p>修改~/.vimrc更改缺省配色方案为我们指定的方案</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">colorscheme xxx</span><br></pre></td></tr></table></figure>
<p>这里我推荐用ron （也是我自己觉得看起来更清楚）</p>
</li>
</ol>
<p>其他可选的配色方案包括：<br>blue        darkblue        delek       desert      elflord     evening<br>industry    koehler         morning     murphy      pablo       peachpuff<br>ron         shine           slate       torte       zellner </p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/10/10/%E4%BB%8E%E4%BA%8C%E9%A1%B9%E5%BC%8F%E5%AE%9A%E7%90%86%E5%88%B0%E5%A4%9A%E9%A1%B9%E5%BC%8F%E5%AE%9A%E7%90%86/">从二项式定理到多项式定理</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-10-10T00:26:12.000Z" itemprop="datePublished">
    2023-10-10
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/Maths/">Maths</a> }
  </li>


  </ul>
  
  
</div>

    </header>
    <div>
      
        <p>二项式定理：</p>
<script type="math/tex; mode=display">(a+b)^n=a^n+\dbinom{n}{1}a^{n-1}b+\dots+\dbinom{n}{n-1}ab^{n-1}+b^n</script><p>第 $r$ 项系数 $(0 \le r \le n)$ ：$\dbinom{n}{r}$ <font color=red>这里第0项是 $\dbinom{n}{0}a^nb^0=a^n$</font></p>
<p>那么，这个系数是怎么来的呢？<br>实际上，对于第 $r$ 项，就是这么 $n$ 项里，取了其中 $r$ 项来构成 $a$ 的系数，再取了剩下的项，来构成 $b$ 的系数，实际上系数是： </p>
<script type="math/tex; mode=display">\dbinom{n}{r}b^{r}\dbinom{n-r}{n-r}a^{n-r}</script><hr>
<p>推广到三项式：<br>对于 $(a+b+c)^n$ ，$a^ib^jc^k$的系数（ $i+j+k=n$ ）是：</p>
<script type="math/tex; mode=display">\dbinom{n}{i}\dbinom{n-i}{j}\dbinom{n-i-j}{k}=\dfrac{n!}{i!j!k!}</script><hr>
<p>推广到n项式：<br>对于 $(x_1+x_2+\dots+x_n)^m$ ，$x_1^{y_1}x_2^{y_2}\dots x_n^{y_n}$的系数（ $y_1+y_2+\dots+y_n=m$ ）是：</p>
<script type="math/tex; mode=display">\dfrac{m!}{y_1!y_2!\dots y_n!}</script>
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/10/09/%E4%B8%80%E4%B8%AA%E7%BB%84%E5%90%88%E5%85%AC%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B/">一个组合公式的应用实例</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-10-09T16:00:00.000Z" itemprop="datePublished">
    2023-10-10
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/Maths/">Maths</a> }
  </li>


  </ul>
  
  
</div>

    </header>
    <div>
      
        <p>有这么一个组合公式：</p>
<script type="math/tex; mode=display">\dbinom{n}{l}\dbinom{l}{r}=\dbinom{n}{r}\dbinom{n-r}{l-r}</script><p>乍一看，好像很复杂的样子，实际上，我们可以用一个例子很轻松的理解：</p>
<p>有那么一个班，全班有 $n$ 位同学，为了对班级有效管理，班主任决定选取 $l$ 位同学作为班干部，在这些班干部中，还要选取 $r$ 位同学作为核心班委。</p>
<hr>
<p>第一个思路，按着题目的选取顺序来：<br>因此，选取班干部的方案有 $\dbinom{n}{l}$ 种。<br>从 $l$ 位班干部中再选取 $r$ 位同学作为核心班委的方案有 $\dbinom{l}{r}$ 种。<br>所以，根据乘法原理，整个班管理架构的选取方案有 $\dbinom{n}{l}\dbinom{l}{r}$ 种。</p>
<hr>
<p>我们再换一个思路：<br>因为整个班管理架构最终的目的是选取 $r$ 位同学作为核心班委， $l$ 位同学作为班干部，且核心班委在班干部集体中。<br>因此，我们可以先选取核心班委，方案有 $\dbinom{n}{r}$ 种。<br>再从剩余的同学中，选取其他班干部，方案有 $\dbinom{n-r}{l-r}$ 种。<br>根据乘法原理，整个班的管理架构的选取方案有 $\dbinom{n}{r}\dbinom{n-r}{l-r}$</p>
<hr>
<p>这两种思路应该是等价的，所以：</p>
<script type="math/tex; mode=display">\dbinom{n}{l}\dbinom{l}{r}=\dbinom{n}{r}\dbinom{n-r}{l-r}</script>
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/10/05/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">组合数学学习笔记</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-10-05T07:03:15.000Z" itemprop="datePublished">
    2023-10-05
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/Maths/">Maths</a> }
  </li>


  </ul>
  
  
</div>

    </header>
    <div>
      
        <h3 id="组合数学学什么？"><a href="#组合数学学什么？" class="headerlink" title="组合数学学什么？"></a>组合数学学什么？</h3><h4 id="棋盘的完美覆盖"><a href="#棋盘的完美覆盖" class="headerlink" title="棋盘的完美覆盖"></a>棋盘的完美覆盖</h4><p><strong>问题的提出</strong>：一个8*8的棋盘（国际象棋的棋盘），用1*2的骨牌覆盖，一次可以覆盖相邻的2格，使用骨牌数量不限，那么，可否把这个8*8的棋盘完美覆盖？有多少种不同的方法？更进一步思考，如果不是8*8的棋盘，而是n*m的棋盘，用1*2的骨牌是否可以完美覆盖？如果不是1*2的骨牌，是1*b的骨牌呢？如果是a*b的呢？<br>也就是从特定的问题，从各种维度推广问题的解决办法，推广到一般情况，这是数学研究的一个基本思路。<br><strong><em>注：完美覆盖是指完全的覆盖所有格子，且每个格子上只有一个骨牌覆盖。</em></strong></p>
<p>Fischer得出计算m*n棋盘的不同完美覆盖数的一般公式，这个公式中含有三角函数。这个问题等价于分子物理学中一个非常著名的问题，即所谓的二聚物问题。这一问题始于对表面上的双原子(二聚物)吸收的研究。</p>
<h4 id="幻方"><a href="#幻方" class="headerlink" title="幻方"></a>幻方</h4><p>看《射雕英雄传》里面的一个情节：黄蓉看到瑛姑在演算，直接把口诀砸了过去：“九宫之义，法以灵龟，二四为肩，六八为足，左三右七，戴九履一，五居中央。”但是，我们学习的时候，不能只记口诀，毕竟，口诀只能针对特定的题目——3阶幻方，如果4阶、5阶……n阶呢？<br>中国古代对这个3阶的幻方很重视，所谓的“河图洛书”封面图是这样的：<br><img src="https://pic2.zhimg.com/80/v2-bb961468caa0f5b8b2dd3201d8ffc241_720w.webp" alt="河图洛书封面"><br>据传说，有神龟从洛水中出现，背上驮着的就是洛书，伏羲氏得到它据此画出了八卦（河出图，洛出书，圣人则之。）<br>对于n阶幻方，是把$1,2,3,…,n,n+1,…,n^2$分别填入一个$n \times n$的方阵格中的适当位置，使其按行、按列、按斜向的两条对角线所有数字之和均相等。<br>我们很容易可以得到一个结论，$1+2+…+n^2=\dfrac{n^2(1+n^2)}{2}$，因此，每一行、每一列、每一条对角线所有数字之和应为$\dfrac{n^2(1+n^2)}{2n}=\dfrac{n(1+n^2)}{2}$。</p>
<h4 id="四色问题"><a href="#四色问题" class="headerlink" title="四色问题"></a>四色问题</h4><p>这是个非常著名的问题，世界近代三大数学难题之一。<br>从1850年Francis Guthrie提出，到最终解决，经历100多年，才在1976年6月，由Wolfgang Haken与Kenneth Appel联手应用计算机，花费了1200个计算机时（以当时的计算机水平），处理了2000多个构型最终完成证明。这是人类历史上第一次使用计算机证明数学猜想。<br>四色问题的内容是“任何一张地图只用四种颜色就能使具有共同边界的国家着上不同的颜色。”也就是说在不引起混淆的情况下一张地图只需四种颜色来标记就行。<br>用数学语言表示即“将平面任意地细分为不相重叠的区域，每一个区域总可以用1234这四个数字之一来标记而不会使相邻的两个区域得到相同的数字。”这里所指的相邻区域是指有一整段边界是公共的。如果两个区域只相遇于一点或有限多点就不叫相邻的。</p>
<h3 id="排列与组合"><a href="#排列与组合" class="headerlink" title="排列与组合"></a>排列与组合</h3><h4 id="四个基本的计数原理"><a href="#四个基本的计数原理" class="headerlink" title="四个基本的计数原理"></a>四个基本的计数原理</h4><h5 id="原理1-加法原理"><a href="#原理1-加法原理" class="headerlink" title="原理1: 加法原理"></a>原理1: 加法原理</h5><p><strong>数学上的定义：</strong> 设集合 $S$ 被划分为两两不相交的部分 $S_1,S_2,…,S_n$ 。则 $S$ 的对象数目可以通过它的每一部分的对象数目并如此相加而得到：</p>
<script type="math/tex; mode=display">|S|=|S_1|+|S_2|+\dots+|S_n|</script><p><strong><em>例题 1:</em></strong><br><em>一名学生想选修一门数学课程或一门生物课程，但两者不能同时都选。如果现在有4门数学课程和3门生物课程供该学生选择，那么该学生有几种选择方案？</em><br>很明显，这是一个应用加法原理的问题，这名学生只能选4门数学课程中的1门，或者是3门生物课程中的1门。即：</p>
<script type="math/tex; mode=display">choices = 4 + 3 = 7</script><h5 id="原理2-乘法原理"><a href="#原理2-乘法原理" class="headerlink" title="原理2: 乘法原理"></a>原理2: 乘法原理</h5><p><strong>数学上的定义：</strong> 令 $S$ 是对象的有序对 $(a,b)$ 的集合，其中第一个对象 $a$ 来自大小为 $p$ 的一个集合，而对于对象 $a$ 的每个选择，对象 $b$ 有 $q$ 种选择。于是， $S$ 的大小为 $p \times q$ ：</p>
<script type="math/tex; mode=display">|S|=p \times q</script><p><strong><em>例题 2:</em></strong><br><em>一名学生要选修两门课程。第一门课程可以安排在上午3个小时中的任一小时，第二门课程则可以安排在下午4个小时的任一小时。该学生可能的课程安排方案有几种？</em><br>这名学生选择上午的任一小时上第一门课后，都有4种选择来安排下午的课程，所以：</p>
<script type="math/tex; mode=display">solutions=3 \times 4 =12</script><p><strong><em>例题 3:</em></strong><br><em>从5名男士、6名女士、2名男孩和4名女孩中，挑选1男1女1男孩1女孩的方法有几种？</em></p>
<script type="math/tex; mode=display">solutions=5 \times 6 \times 2 \times 4 =240</script><h5 id="原理3-减法原理"><a href="#原理3-减法原理" class="headerlink" title="原理3: 减法原理"></a>原理3: 减法原理</h5><p><strong>数学上的定义：</strong> 令 $A$ 是一个集合，而 $U$ 是包含 $A$ 的更大集合。设<script type="math/tex">\overline A = U \backslash A = \{x \in  U:\ x \notin A\}</script>是 $A$ 在 $U$ 中的补（complement）。那么 $A$ 中的对象数目 $|A|$ 由下列法则给出：</p>
<script type="math/tex; mode=display">|A|=|U|-|\overline A|</script><p><strong><em>例题 4:</em></strong><br><em>计算机密码是由取自数字 $0,1,2,…,9$ 的数字和取自小写字母 $a,b,c,…,z$ 的字母组成的长度为6的字符串。有多少个有重复字符的计算机密码？</em><br>所有可能的密码集合: $|U|=36^6=2176782336$<br>有重复字符的计算机密码集合是$A$，则没有重复字符的计算机密码集合是$\overline A=36 \times 35 \times 34 \times 33 \times 32 \times 31 = 1402410240$。<br>因此，<script type="math/tex">|A|=|U|-|\overline A|=774372096</script><br><strong><em>例题 5:</em></strong><br><em>在1000和9999之间，有多少个各位不相同的奇数？</em><br>个位可选的是 $\{1,3,5,7,9\}$ ，共5个选择；<br>千位可选的是 $\{1,2,3,4,5,6,7,8,9\}$ ，共9个选择，但是要与个位不相同，因此只能有8个选择；<br>百位和十位可选的是 $\{0,1,2,3,4,5,6,7,8,9\}$ ，共10个选择，但是要与个位、千位不同，所以只能有 $8 \times 7$ 种选择；<br>所以最终答案是：<script type="math/tex">choices = 5 \times 8 \times 8 \times 7 = 2240</script><br><strong><em>例题 6:</em></strong><br><em>你想送给Mollie大婶一篮水果。在你的冰箱里有6个橘子和9个苹果。唯一的要求是篮子里必须至少有一个水果（即不容许水果篮里是空的）。有多少种不同的水果篮？</em><br>思路一：<br>暂时认为篮子为空的情况符合要求。此时很容易分析，选橘子共有7个选择（含0），选苹果共有10个选择（含0），那么根据乘法原理，橘子与苹果的搭配共有 $7 \times 10 = 70$ 种，其中橘子和苹果同时为0的情况是其中1种，因此，在不容许水果篮为空的情况下，共有：</p>
<script type="math/tex; mode=display">7 \times 10 - 1 = 69</script><h5 id="原理4：-除法原理"><a href="#原理4：-除法原理" class="headerlink" title="原理4： 除法原理"></a>原理4： 除法原理</h5><p><strong>数学上的定义：</strong> 令 $S$ 是一个有限集合，把它划分成 $k$ 个部分使得每一部分包含的对象数目相同。于是，此划分中的部分的数目由下述公式给出：</p>
<script type="math/tex; mode=display">k = \dfrac{|S|}{在一个部分中的对象数目}</script><p><strong><em>例题 7:</em></strong><br><em>在一排鸽巢中有740只鸽子。如果每个鸽巢含有5只鸽子，那么鸽巢的数目为？</em></p>
<script type="math/tex; mode=display">740/5=148</script><h4 id="排列"><a href="#排列" class="headerlink" title="排列"></a>排列</h4><p>令 $r$ 是正整数。说到一个 $n$ 元素集合 $S$ 的 $r$ 排列，我们理解为 $n$ 个元素中的 $r$ 个元素的有序放置。<br>例如，以3个元素的集合 $S = \{ a,b,c \}$，那么，$S$ 的3个1排列是：</p>
<script type="math/tex; mode=display">a\ \ \ b \ \ \ c</script><p>$S$ 的6个2排序是：</p>
<script type="math/tex; mode=display">ab\ \ ac\ \ ba\ \ bc\ \ ca\ \ cb</script><p>$S$ 的6个3排序是：</p>
<script type="math/tex; mode=display">abc\ \ acb\ \ bac\ \ bca\ \ cab\ \ cba</script><p>我们用符号 $P(n, r)$ 表示 $n$ 元素集合的 $r$ 排序的数目。</p>
<h5 id="定理：-对于正整数-n-和-r-，有-P-n-r-n-times-n-1-times-…-n-r-1"><a href="#定理：-对于正整数-n-和-r-，有-P-n-r-n-times-n-1-times-…-n-r-1" class="headerlink" title="定理： 对于正整数 $n$ 和 $r$ ，有 $P(n,r)=n \times (n-1) \times … (n-r+1) $"></a>定理： 对于正整数 $n$ 和 $r$ ，有 $P(n,r)=n \times (n-1) \times … (n-r+1) $</h5><p>我们定义 $n!=1 \times 2 \times … \times n$ ，则 $P(n,r)=\dfrac{n!}{(n-r)!}$ 。<br>我们这里定义 $0!=1$ 。<br><strong><em>例题 8:</em></strong><br><em>使用 a、b、c、d、e 构造四字母“词”，其中，每个字母最多使用一次，共可以构造多少个词？</em></p>
<script type="math/tex; mode=display">P(5,4)=\dfrac{5!}{(5-4)!}=120</script><p><strong><em>例题 9:</em></strong><br><em>将字母表中的 26个字母排序，使得元音字母 $a, e, i, o, u$ 中任意两个都不能连续出现，这种排序方法的总数是多少？</em><br>因为5个元音字母不能连续出现，所以，把21个非元音字母排好，这有 $P(21,21) = 21!$ 种；<br>那么，这21个非元音字母的前面或者后面或两个非元音字母之间，可以放入5个元音字母，共有22个位置，因此，这5个元音字母的排列为： $P(22,5)=\dfrac{22!}{(22-5)!}=\dfrac{22!}{17!}$ 。所以，总的排序方法有：</p>
<script type="math/tex; mode=display">mothods=P(21,21) \cdot P(22,5)=21! \cdot \dfrac{22!}{17!}</script><h5 id="线性排列：-上面我们讨论的是线性的排列，也就是把对象排成一条线，首位不相接。"><a href="#线性排列：-上面我们讨论的是线性的排列，也就是把对象排成一条线，首位不相接。" class="headerlink" title="线性排列： 上面我们讨论的是线性的排列，也就是把对象排成一条线，首位不相接。"></a>线性排列： 上面我们讨论的是线性的排列，也就是把对象排成一条线，首位不相接。</h5><h5 id="循环排列：-排列的首尾相接形成一个循环，因此，循环排列重要的是彼此的相对位置，而不是自身的位置。"><a href="#循环排列：-排列的首尾相接形成一个循环，因此，循环排列重要的是彼此的相对位置，而不是自身的位置。" class="headerlink" title="循环排列： 排列的首尾相接形成一个循环，因此，循环排列重要的是彼此的相对位置，而不是自身的位置。"></a>循环排列： 排列的首尾相接形成一个循环，因此，循环排列重要的是彼此的相对位置，而不是自身的位置。</h5><p><strong><em>例题 10:</em></strong><br><em>设 6个孩子沿圆圈行进，他们能够以多少种不同的方式形成一个圆？</em><br>对于这种排列，“123456”和“234561”以及“345612”、“456123”、“561234”、“612345”由于排列是首尾相接的，所以这6种排列是同一个排列。<br>所以，本题的答案是：</p>
<script type="math/tex; mode=display">methods = \dfrac{P(6)(6)}{6}=\dfrac{6!}{6}=5!</script><h5 id="定理：-n-元素集合的循环-r-排列的数目是："><a href="#定理：-n-元素集合的循环-r-排列的数目是：" class="headerlink" title="定理： $n$ 元素集合的循环 $r$ 排列的数目是："></a>定理： $n$ 元素集合的循环 $r$ 排列的数目是：</h5><script type="math/tex; mode=display">\dfrac{P(n,r)}{r} = \dfrac{n!}{r \cdot (n-r)!}</script><p>特别地， $n$ 个元素的循环排列的数目是 $(n-1)!$ 。</p>
<p><strong><em>例题 11:</em></strong><br><em>10个人要围坐一个圆桌，其中有两人不愿彼此挨着就座，共有多少种圆桌座位的安排方法？</em><br>不相关的8人，可围坐的方案有 $\dfrac{P(8,8)}{8}=7!$ 种，不愿彼此挨着坐的2人，可选的位置在已安排的8人相邻的8个位置， $P(8,2)=\dfrac{8!}{6!}$ ，所以，安排方法有：</p>
<script type="math/tex; mode=display">methods = 7！\cdot \dfrac{8!}{6!}=7 \times 8!</script><h4 id="集合的组合（子集）"><a href="#集合的组合（子集）" class="headerlink" title="集合的组合（子集）"></a>集合的组合（子集）</h4><p><strong>定义：</strong><br>设 $S$ 是 $n$ 元素集合，集合 $S$ 的一个组合通常表示集合 $S$ 的元素的一个无序选择。注意是<font color=red>“无序”</font>的，与前面排列是<font color=red>“有序”</font>的有本质差别。<br>这样一个选择的结果是 $S$ 的元素构成的一个子集（subset） $A \subset S$ 。<br>现在，设 $r$ 是一个非负整数，提到 $n$ 元素集合 $S$ 的一个 $r$ 组合，我们把它理解为在 $S$ 的 $n$ 个对象中选取 $r$ 个对象的一个无序选择。记为（三种记法都是可以的）：<script type="math/tex">\dbinom{n}{r}\ \  or\ \  C_n^r \ \ or \ \  C(n,r)</script><br>显然，如果 $r&gt;n$ 则 $\dbinom{n}{r}=0$；<br>如果 $r&gt;0$ 则 $\dbinom{0}{r}=0$。<br>此外还有 $\dbinom{n}{0}=1, \dbinom{n}{1}=n, \dbinom{n}{n}=1$。</p>
<h5 id="定理：-对于-0-le-r-le-n-，-有：P-n-r-r-dbinom-n-r-Rightarrow-dbinom-n-r-dfrac-n-r-n-r"><a href="#定理：-对于-0-le-r-le-n-，-有：P-n-r-r-dbinom-n-r-Rightarrow-dbinom-n-r-dfrac-n-r-n-r" class="headerlink" title="定理： 对于 $0 \le r \le n$ ， 有：P(n,r)=r!\dbinom{n}{r}\ \Rightarrow \dbinom{n}{r}=\dfrac{n!}{r!(n-r)!}"></a>定理： 对于 $0 \le r \le n$ ， 有：<script type="math/tex">P(n,r)=r!\dbinom{n}{r}\ \Rightarrow \dbinom{n}{r}=\dfrac{n!}{r!(n-r)!}</script></h5><p><strong><em>例题 12:</em></strong><br><em>在平面上给出25个点，使得没有任意3个点共线。这些点可以确定多少条直线？确定多少个三角形？</em><br>很明显，任意选择2个点能构成一条直线，且这两个点没有先后之分（即无序，不需要分先后），因此，可确定的直线数：<script type="math/tex">\dbinom{25}{2}=\dfrac{25!}{2!23!}=\dfrac{25 \times 24}{1 \times 2}=300</script><br>同样，任意选择3个点构成一个三角形，三个点的选择也没有先后之分，因此，可确定的三角形数是：<script type="math/tex">\dbinom{25}{3}=\dfrac{25 \times 24 \times 23}{1 \times 2 \times 3}=2300</script></p>
<p><strong><em>例题 13:</em></strong><br><em>如果每个词包含 3，4 或 5 个元音，那么用字母表中的 26 个字母可以构造多少个 8 字母词？这个问题可以这样理解：在一个词中任何一个字母的使用次数没有限制。</em><br>字母表中26个字母元音字母共5个元音字母，所以共有21个辅音字母。<br>我们用加法原理叠加乘法原理来计算。<br>首先是包含3个元音的8字母词：5个辅音字母有 $21^5$ 个可能组合，3个元音字母有 $5^3$ 个可能组合。8字母词意味着8个位置，元音字母可任选其中3个，即 $\dbinom{8}{3}$ 个组合。所以，可构造包含3个元音字母的8字母词的个数是<script type="math/tex">\dbinom{8}{3}5^3 21^5</script><br>类似的包含4个元音字母的8字母词和包含5个元音字母的8字母词个数分别是：</p>
<script type="math/tex; mode=display">\dbinom{8}{4}5^4 21^4, \ \ \  \dbinom{8}{5}5^5 21^3</script><p>所以，题解为：</p>
<script type="math/tex; mode=display">\dbinom{8}{3}5^3 21^5+\dbinom{8}{4}5^4 21^4+\dbinom{8}{5}5^5 21^3</script><h5 id="推论：-对于-0-le-r-le-n-，-有-dbinom-n-r-dbinom-n-n-r"><a href="#推论：-对于-0-le-r-le-n-，-有-dbinom-n-r-dbinom-n-n-r" class="headerlink" title="推论： 对于 $0 \le r \le n$ ， 有 \dbinom{n}{r}=\dbinom{n}{n-r}"></a>推论： 对于 $0 \le r \le n$ ， 有 <script type="math/tex">\dbinom{n}{r}=\dbinom{n}{n-r}</script></h5><p><font color=red>组合计算的两个基本性质公式</font></p>
<h5 id="帕斯卡公式：-对于所有满足-1-le-k-le-n-1-的整数-n-和-k-，有-dbinom-n-k-dbinom-n-1-k-dbinom-n-1-k-1"><a href="#帕斯卡公式：-对于所有满足-1-le-k-le-n-1-的整数-n-和-k-，有-dbinom-n-k-dbinom-n-1-k-dbinom-n-1-k-1" class="headerlink" title="帕斯卡公式： 对于所有满足 $1 \le k \le n-1$ 的整数 $n$ 和 $k$ ，有 \dbinom{n}{k}=\dbinom{n-1}{k}+\dbinom{n-1}{k-1}"></a>帕斯卡公式： 对于所有满足 $1 \le k \le n-1$ 的整数 $n$ 和 $k$ ，有 <script type="math/tex">\dbinom{n}{k}=\dbinom{n-1}{k}+\dbinom{n-1}{k-1}</script></h5><p>证明：<br>$\dbinom{n}{k}=\dfrac{n!}{k!(n-k)!}$</p>
<p>$\dbinom{n-1}{k}=\dfrac{(n-1)!}{k!(n-k-1)!}=\dfrac{(n-1)!(n-k)}{k!(n-k)!}$</p>
<p>$\dbinom{n-1}{k-1}=\dfrac{(n-1)!}{(k-1)!(n-k)!}=\dfrac{k(n-1)!}{k!(n-k)!}$</p>
<p>$\dbinom{n-1}{k}+\dbinom{n-1}{k-1}=\dfrac{(n-1)!(n-k+k)}{k!(n-k)!}=\dfrac{n(n-1)!}{k!(n-k)!}=\dfrac{n!}{k!(n-k!)!}=\dbinom{n}{k}$</p>
<p><br></p>
<h5 id="组合推理证明（combinatorial-proof）"><a href="#组合推理证明（combinatorial-proof）" class="headerlink" title="组合推理证明（combinatorial proof）"></a>组合推理证明（combinatorial proof）</h5><p>如下所示：设 $S$ 是 $n$ 元素集合。我们指定 $S$ 的一个元素并把它记作 $x$ 。设 $S \backslash \{x\}$ 是从 $S$ 中除去这个 $x$ 后得到的集合。把 $S$ 的 $k$ 子集的集合 $X$ 划分成两个部分 $A$ 和 $B$ 。在 $A$ 中放入不包含 $x$ 的所有 $k$ 子集。在 $B$ 中放入包含 $x$ 的所有 $k$ 子集。 $X$ 的大小是 $|X|=\dbinom{n}{k}$ ；因此，根据加法原理，有：<script type="math/tex">\dbinom{n}{k}=|A|+|B|</script><br>$A$ 中的 $k$ 子集正好是集合 $S \backslash \{x\}$ 的 $n-1$个元素的 $k$ 子集；因此，$A$ 的大小是：<script type="math/tex">|A|=\dbinom{n-1}{k}</script><br>而 $B$ 的 $k$ 子集可以通过把元素 $x$ 加到 $S\backslash \{x\}$ 的 $(k-1)$ 子集中而得到。因此， $B$ 的大小应该是：<script type="math/tex">|B|=\dbinom{n-1}{k-1}</script><br>最后，把上面三个公式结合起来，得到：<script type="math/tex">\dbinom{n}{k}=\dbinom{n-1}{k}+\dbinom{n-1}{k-1}</script></p>
<h5 id="定理：-对于-n-ge-0-，有-dbinom-n-0-dbinom-n-1-dbinom-n-2-dbinom-n-n-2-n且这个共同值等于-n-元素集合的子集数量。"><a href="#定理：-对于-n-ge-0-，有-dbinom-n-0-dbinom-n-1-dbinom-n-2-dbinom-n-n-2-n且这个共同值等于-n-元素集合的子集数量。" class="headerlink" title="定理： 对于 $n \ge 0$ ，有 \dbinom{n}{0}+\dbinom{n}{1}+\dbinom{n}{2}+...+\dbinom{n}{n}=2^n且这个共同值等于 $n$ 元素集合的子集数量。"></a>定理： 对于 $n \ge 0$ ，有 <script type="math/tex">\dbinom{n}{0}+\dbinom{n}{1}+\dbinom{n}{2}+...+\dbinom{n}{n}=2^n</script>且这个共同值等于 $n$ 元素集合的子集数量。</h5><p>证明：<br>根据二项式定理：<script type="math/tex">(a+b)^n=\dbinom{n}{0}a^n+\dbinom{n}{1}a^{n-1}b+\dbinom{n}{2}a^{n-2}b^2+\dots+\dbinom{n}{n-1}ab^{n-1}+\dbinom{n}{n}b^n</script><br>令 $a=b=1$，则：</p>
<script type="math/tex; mode=display">(1+1)^n=2^n=\dbinom{n}{0}+\dbinom{n}{1}+\dbinom{n}{2}+...+\dbinom{n}{n}</script><h5 id="多重集合的定义：如果-S-是一个多重集合，那么-S-的一个-r-排列是-S-中-r-个对象的一个有序放置。如果-S-的对象总数是-n-（重复对象计数在内），那么-S-的-n-排列也称为-S-的排列。"><a href="#多重集合的定义：如果-S-是一个多重集合，那么-S-的一个-r-排列是-S-中-r-个对象的一个有序放置。如果-S-的对象总数是-n-（重复对象计数在内），那么-S-的-n-排列也称为-S-的排列。" class="headerlink" title="多重集合的定义：如果 $S$ 是一个多重集合，那么 $S$ 的一个 $r$ 排列是 $S$ 中 $r$ 个对象的一个有序放置。如果 $S$ 的对象总数是 $n$ （重复对象计数在内），那么 $S$ 的 $n$ 排列也称为 $S$ 的排列。"></a>多重集合的定义：如果 $S$ 是一个多重集合，那么 $S$ 的一个 $r$ 排列是 $S$ 中 $r$ 个对象的一个有序放置。如果 $S$ 的对象总数是 $n$ （重复对象计数在内），那么 $S$ 的 $n$ 排列也称为 $S$ 的排列。</h5><p>例如：如果 $S=\{2 \cdot a, 1 \cdot b, 3 \cdot c\}$ ，那么<script type="math/tex">acbc\ \ \ \ abcc</script> 都是 $S$ 的4排列，而 <script type="math/tex">abccca</script> 是 $S$ 的一个排列。这个多重集合 $S$ 没有7排列，因为这个多重集合的定义里 $2+1+3=6&lt;7$ ，即7大于集合 $S$ 的对象个数。</p>
<h5 id="定理：-设-S-是有-k-种不同类型对象的多重集合，每一个元素都有无限重复数，那么，-S-的-r-排列的数目是-k-r-。"><a href="#定理：-设-S-是有-k-种不同类型对象的多重集合，每一个元素都有无限重复数，那么，-S-的-r-排列的数目是-k-r-。" class="headerlink" title="定理： 设 $S$ 是有 $k$ 种不同类型对象的多重集合，每一个元素都有无限重复数，那么， $S$ 的 $r$ 排列的数目是 $k^r$ 。"></a>定理： 设 $S$ 是有 $k$ 种不同类型对象的多重集合，每一个元素都有无限重复数，那么， $S$ 的 $r$ 排列的数目是 $k^r$ 。</h5><p>证明：<br>因为每个元素都有无限重复数，也就意味着 $r$ 排列的每一个元素都有 $k$ 个可能（因为 $S$ 是有 $k$ 种不同类型对象的多重集合），根据乘法原理可得结论。</p>
<p><strong><em>例题 14:</em></strong><br><em>最多有 4 位的三元数的个数是多少？</em><br><em>注：三元数（ternary numeral）或者三进制是用 3 的幂表示一个数而得到的数。例如：$46=1\times 3^3+2\times 3^2 + 0 \times 3^1 +1 \times 3^0$，所以 $46_{10}=1201_3$ 。</em><br>题解：<br>构成三元数的是一个有3种不同类型元素的集合 $\{\infty \cdot 0, \infty \cdot 1, \infty \cdot 2\}$ 。因此，最多有4位的三元数的个数是 <script type="math/tex">3^4=81</script></p>
<h5 id="定理：-设-S-是多重集合，它有-k-种不同类型的对象，且每一种类型的有限重复数分别是-n-1-n-2-dots-n-k-。设-S-的大小为-n-n-1-n-2-dots-n-k-。则-S-的排列数目等于：-dfrac-n-n-1-n-2-dots-n-k"><a href="#定理：-设-S-是多重集合，它有-k-种不同类型的对象，且每一种类型的有限重复数分别是-n-1-n-2-dots-n-k-。设-S-的大小为-n-n-1-n-2-dots-n-k-。则-S-的排列数目等于：-dfrac-n-n-1-n-2-dots-n-k" class="headerlink" title="定理： 设 $S$ 是多重集合，它有 $k$ 种不同类型的对象，且每一种类型的有限重复数分别是 $n_1, n_2, \dots , n_k$ 。设 $S$ 的大小为 $n=n_1+n_2+ \dots +n_k$ 。则 $S$的排列数目等于： \dfrac{n!}{n_1!n_2! \dots n_k!}"></a>定理： 设 $S$ 是多重集合，它有 $k$ 种不同类型的对象，且每一种类型的有限重复数分别是 $n_1, n_2, \dots , n_k$ 。设 $S$ 的大小为 $n=n_1+n_2+ \dots +n_k$ 。则 $S$的排列数目等于： <script type="math/tex">\dfrac{n!}{n_1!n_2! \dots n_k!}</script></h5><p>证明略。</p>
<p><strong><em>例题 15:</em></strong><br><em>词 MISSISSIPPI 中的字母的排列数是？</em><br>根据题意可知词 MISSISSIPPI 的构成元素的集合为 $\{1\cdot M, 4 \cdot I,4 \cdot S, 2\cdot P\}$。所以该词的排列数为： <script type="math/tex">\dfrac{(1+4+4+2)!}{1!4!4!2!}=\dfrac{11!}{1!4!4!2!}</script></p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/09/27/%E9%87%8D%E6%8E%92%E9%97%AE%E9%A2%98%E7%9A%84%E6%8E%A8%E5%AF%BC/">重排问题的推导</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-09-27T23:36:21.000Z" itemprop="datePublished">
    2023-09-28
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/Maths/">Maths</a> }
  </li>


  </ul>
  
  
</div>

    </header>
    <div>
      
        <h3 id="问题：有一个4位数1234，如果要把这四位重新排列，要求每一位都不能排在原来的位置上，共有几种排法？如果5位、6位……n位呢？"><a href="#问题：有一个4位数1234，如果要把这四位重新排列，要求每一位都不能排在原来的位置上，共有几种排法？如果5位、6位……n位呢？" class="headerlink" title="问题：有一个4位数1234，如果要把这四位重新排列，要求每一位都不能排在原来的位置上，共有几种排法？如果5位、6位……n位呢？"></a>问题：有一个4位数1234，如果要把这四位重新排列，要求每一位都不能排在原来的位置上，共有几种排法？如果5位、6位……n位呢？</h3><ol>
<li>首先我们假设问题解$solution(n)$对应的是有$n$位数重排。</li>
<li>很明显用枚举的方式就可以把前3个重排轻易得出结论：<br>$<br>solution(1) = 0 \\<br>solution(2) = 1 \\<br>solution(3) = 2<br>$</li>
<li>当要求$solution(4)$时，我们可以考虑一个策略：先把“1”确定位置，再把其他的数按要求放入合适的位置。<br>因为“1”放在2号位还是3号位、4号位，本质上都是一样的，所以，先按把“1”放在2号位来分析，最后的结果$\times 3$即可。<br>“1”放入2号位后，“2”面临两个选择：<br><strong>放入1号位</strong>：<br>放入1号位后，也就是1号位、2号位已经确定了，剩下的是解决“3”、“4”两个数字重排的问题，重排排法有$solution(2)$种。<br><strong>不放入1号位</strong>：<br>不放入1号位，则意味着等价于“2”、“3”、“4”这三个数字重排的问题，重排排法有$solution(3)$种。<br>因此，针对把“1”号放在2号位，共有$solution(3)+solution(2)=3$种排法。而把“1”号放入3号位或4号位，与放在2号位的情况是一样的，都有3种排法。所以$solution(4)=3 \times [solution(3)+solution(2)]=3 \times 3=9$种。</li>
<li>推广到$n$位重排的情况<br>同样，把“1”放入2号位后，“2”也一样面临放入1号位还是不放入1号位两种情况：<br><strong>放入1号位</strong>：剩下的“3”、“4”、……、“n”面临的是$solution(n-2)$的问题。<br><strong>不放入1号位</strong>：则“2”、“3”、“4”、……、“n”面临的是$solution(n-1)$的问题。<br>依次推理“1”放入3号位、4号位……也是同样的结论。<br>所以：<br>$solution(n)= (n-1)\cdot [solution(n-1)+solution(n-2)]$<br>典型的：<br>$solution(5)=4 \times (9+2)= 44 $</li>
</ol>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/09/19/%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E5%85%AC%E5%BC%8F%E5%BA%94%E7%94%A8%E7%9A%84%E5%85%B8%E5%9E%8B%E9%A2%98%E5%9E%8B/">完全平方公式应用的典型题型</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-09-19T19:56:05.000Z" itemprop="datePublished">
    2023-09-20
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/%E5%88%9D%E4%B8%AD%E6%95%B0%E5%AD%A6/">初中数学</a> }
  </li>


  </ul>
  
  
</div>

    </header>
    <div>
      
        <h4 id="题型1：已知-x-pm-y-，以及-xy-的值，求-x-2-y-2-型"><a href="#题型1：已知-x-pm-y-，以及-xy-的值，求-x-2-y-2-型" class="headerlink" title="题型1：已知$ x \pm y$，以及$ xy $的值，求$ x^2 + y^2 $型"></a>题型1：已知$ x \pm y$，以及$ xy $的值，求$ x^2 + y^2 $型</h4><p>这种是最基本的变型，利用$ (x \pm y)^2 = x^2 \pm 2xy + y^2 $来解决问题。<br><strong>例：</strong><br>已知$x-y=7, xy=-3$，求$x^2 + y^2$的值。</p>
<p><font color=red>留意到已知的是$x-y$的值，所以，把$x^2+y^2$变型成$(x-y)^2$的形式</font><br>$x^2+y^2=x^2+y^2-2xy+2xy=(x-y)^2+2xy=7^2+2(-3)=43$</p>
<hr>
<h4 id="题型2：已知-x-2-y-2-，求-xy-型"><a href="#题型2：已知-x-2-y-2-，求-xy-型" class="headerlink" title="题型2：已知$ x^2+y^2$，求$ xy $型"></a>题型2：已知$ x^2+y^2$，求$ xy $型</h4><p>这种题型，通常$x+y$或$x-y$能凑出整数（即未知数会被消掉），因此，根据$x+y$还是$x-y$能消掉未知数来决定怎么凑完全平方公式<br><strong>例：</strong><br>已知$(n-2010)^2+(2012-n)^2=1$，求$(2012-n)(n-2010)$的值。</p>
<p><font color=red>留意到已知的是$(n-2010)+(2012-n)=2012-2010=2$所以，把$x^2+y^2$型已知条件变型成$(x+y)^2$的形式</font><br>$(n-2010)^2+(2012-n)^2=1\\<br>\Rightarrow (n-2010)^2+(2012-n)^2+2(2012-n)(n-2010)-2(2012-n)(n-2010)=1\\<br>\Rightarrow [(n-2010)+(2012-n)]^2-2(2012-n)(n-2010)=1\\<br>\Rightarrow 2^2-2(2012-n)(n-2010)=1\\<br>\Rightarrow (2012-n)(n-2010)=\dfrac{3}{2}<br>$</p>
<hr>
<h4 id="题型3：已知-x-dfrac-1-x-，求-x-2-dfrac-1-x-2-型"><a href="#题型3：已知-x-dfrac-1-x-，求-x-2-dfrac-1-x-2-型" class="headerlink" title="题型3：已知$ x+\dfrac{1}{x}$，求$ x^2+\dfrac{1}{x^2} $型"></a>题型3：已知$ x+\dfrac{1}{x}$，求$ x^2+\dfrac{1}{x^2} $型</h4><p>这种题型，通常$(x+\dfrac{1}{x})^2$中间项会因为约分而消掉，因此，仍然是凑$(x+\dfrac{1}{x})^2$完全平方公式来解决。<br><strong>例：</strong><br>已知$x^2+3x+1=0$，求$(x-\dfrac{1}{x})^2$的值。</p>
<p><font color=red>留意到已知的是$x^2+3x+1=0\Rightarrow\dfrac{x^2+3x+1}{x}=0$，把$x^2+ax+1$型已知条件变型成$x+\dfrac{1}{x}$的形式</font><br>$ x^2+3x+1=0\\<br>\Rightarrow x+3+\frac{1}{x}=0 \\<br>\Rightarrow x+\frac{1}{x}=-3\\<br>\Rightarrow x+\frac{1}{x}-2=-3-2=-5 \\<br>\Rightarrow (x-\frac{1}{x})^2=-5<br>$</p>
<hr>
<h4 id="题型4：求-ax-2-bx-c-型代数式的最大值（或最小值）"><a href="#题型4：求-ax-2-bx-c-型代数式的最大值（或最小值）" class="headerlink" title="题型4：求$ ax^2+bx+c $型代数式的最大值（或最小值）"></a>题型4：求$ ax^2+bx+c $型代数式的最大值（或最小值）</h4><p>这种题型，通常把$ax^2+bx+c$凑成完全平方公式来解决。<br><strong>例：</strong><br>求代数式$x^2-2x-1$的最小值。</p>
<p><font color=red>型如$x^2+ax$的代数式，要配成完全平方形式，就是把中间项的$a$处理好，而如果是$ax^2+bx$形式，则先要把2次项系数归1，变为$a(x^2+\dfrac{b}{a}x)$来处理。\\<br>$x^2+ax=x^2+ax+(\frac{a}{2})^2-(\frac{a}{2})^2=(x+\frac{a}{2})^2-(\frac{a}{2})^2$\\<br>$ax^2+bx=a(x^2+\frac{b}{a}x)=a[x^2+\frac{b}{a}x+(\frac{b}{2a})^2-(\frac{b}{2a})^2]=a[(x+\frac{b}{2a})^2-\frac{b}{2a})^2]$
</font><br>$ x^2-2x-1\\<br>=x^2-2x+1-1-1\\<br>=(x-1)^2-2<br>(x-1)^2 \ge 0 \Rightarrow (x-1)^2-2 \ge -2<br>$</p>
<hr>
<h1 id="TO-BE-CONTINUED"><a href="#TO-BE-CONTINUED" class="headerlink" title="TO BE CONTINUED"></a>TO BE CONTINUED</h1>
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/09/19/%E5%9C%A8%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E8%87%AA%E5%88%B6%E4%B8%80%E4%B8%AAhexo-docker/">在云服务器上自制一个hexo docker</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-09-19T00:56:57.000Z" itemprop="datePublished">
    2023-09-19
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/docker/">docker</a> }
  </li>


  </ul>
  
  
</div>

    </header>
    <div>
      
        <h3 id="build-and-set-origin-docker-container"><a href="#build-and-set-origin-docker-container" class="headerlink" title="build and set origin docker container"></a>build and set origin docker container</h3><h4 id="dockerfile"><a href="#dockerfile" class="headerlink" title="dockerfile"></a>dockerfile</h4><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> alpine:latest AS build-<span class="keyword">env</span></span><br><span class="line"><span class="comment"># # 把git装上</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apk add --no-cache git</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apk add --no-cache openssh-server</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apk add --no-cache openssh</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;http://mirrors.aliyun.com/alpine/edge/main/&quot;</span> &gt; /etc/apk/repositories \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;http://mirrors.aliyun.com/alpine/edge/community/&quot;</span> &gt;&gt; /etc/apk/repositories \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; apk update \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; apk add --no-cache --update nodejs npm \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; node -v &amp;&amp; npm -v \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> npm install hexo-cli -g</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mkdir</span> -p /usr/src/hexo-blog</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /usr/src/hexo-blog</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装hexo-mathjax插件</span></span><br><span class="line"><span class="comment"># RUN npm install hexo-renderer-mathjax --save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把Hexo的渲染引擎，从默认的hexo-renderer-marked替换为hexo-renderer-kramed</span></span><br><span class="line"><span class="comment"># RUN npm uninstall hexo-renderer-marked --save</span></span><br><span class="line"><span class="comment"># RUN npm install hexo-renderer-kramed --save</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">4000</span></span><br></pre></td></tr></table></figure>
<h4 id="build-docker-image"><a href="#build-docker-image" class="headerlink" title="build docker image"></a>build docker image</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t hexoblogserver .</span><br></pre></td></tr></table></figure>
<h4 id="run-docker-container-background"><a href="#run-docker-container-background" class="headerlink" title="run docker container background"></a>run docker container background</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -d -p 13579:4000 -v .:/usr/src/hexo-blog --name hexoblogbackend hexoblogserver</span><br></pre></td></tr></table></figure>
<h4 id="login-docker-container"><a href="#login-docker-container" class="headerlink" title="login docker container"></a>login docker container</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it hexoblogbackend /bin/sh</span><br></pre></td></tr></table></figure>
<h4 id="in-docker-container-shell-remove-dockerfile-created-before"><a href="#in-docker-container-shell-remove-dockerfile-created-before" class="headerlink" title="in docker container shell, remove dockerfile created before"></a>in docker container shell, remove dockerfile created before</h4><p>因为已挂载了宿主系统的hexoserver目录在docker container的/usr/src/hexo-blog中，这两个目录里的文件是共同的，宿主系统原来的dockerfile文件也出现在这里，所以hexo init会不成功<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> dockerfile</span><br><span class="line">hexo init</span><br></pre></td></tr></table></figure></p>
<h4 id="至此，docker版的hexo后端（含服务器）已OK，下一步是要解决theme和latex公式问题。"><a href="#至此，docker版的hexo后端（含服务器）已OK，下一步是要解决theme和latex公式问题。" class="headerlink" title="至此，docker版的hexo后端（含服务器）已OK，下一步是要解决theme和latex公式问题。"></a>至此，docker版的hexo后端（含服务器）已OK，下一步是要解决theme和latex公式问题。</h4><hr>
<h3 id="解决deploy到github上的问题"><a href="#解决deploy到github上的问题" class="headerlink" title="解决deploy到github上的问题"></a>解决deploy到github上的问题</h3><h4 id="用ssh-keygen生成公钥和私钥，default放在-ssh文件夹中"><a href="#用ssh-keygen生成公钥和私钥，default放在-ssh文件夹中" class="headerlink" title="用ssh-keygen生成公钥和私钥，default放在~/.ssh文件夹中"></a>用ssh-keygen生成公钥和私钥，default放在~/.ssh文件夹中</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;xxx@xxx.com&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="生成两个文件：id-rsa和id-rsa-pub"><a href="#生成两个文件：id-rsa和id-rsa-pub" class="headerlink" title="生成两个文件：id_rsa和id_rsa.pub"></a>生成两个文件：id_rsa和id_rsa.pub</h4><h4 id="把id-rsa-pub（即公钥文件）放上github-com"><a href="#把id-rsa-pub（即公钥文件）放上github-com" class="headerlink" title="把id_rsa.pub（即公钥文件）放上github.com"></a>把id_rsa.pub（即公钥文件）放上github.com</h4><p>“settings-&gt;SSH and GPG keys-&gt;SSH keys-&gt;New SSH key”，把id_rsa.pub文件的内容copy进去即可。title不重要，可填可不填。</p>
<h4 id="设置好密钥后，测试一下是否设置正确"><a href="#设置好密钥后，测试一下是否设置正确" class="headerlink" title="设置好密钥后，测试一下是否设置正确"></a>设置好密钥后，测试一下是否设置正确</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh git@github.com</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Warning: Permanently added <span class="string">&#x27;github.com&#x27;</span> (ED25519) to the list of known hosts.</span><br><span class="line">PTY allocation request failed on channel 0</span><br><span class="line">Hi xxxxxx! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br><span class="line"><span class="string">Connection to github.com closed.</span></span><br></pre></td></tr></table></figure>
<h4 id="修改-config-yml的deploy段"><a href="#修改-config-yml的deploy段" class="headerlink" title="修改_config.yml的deploy段"></a>修改_config.yml的deploy段</h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:xxxxx/xxxxx.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>
<h4 id="安装deploy插件"><a href="#安装deploy插件" class="headerlink" title="安装deploy插件"></a>安装deploy插件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<h4 id="set-git-user-name-and-user-email"><a href="#set-git-user-name-and-user-email" class="headerlink" title="set git user.name and user.email"></a>set git user.name and user.email</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;&lt;user name in github.com&gt;&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;&lt;email in github.com&gt;&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="测试deploy是否成功"><a href="#测试deploy是否成功" class="headerlink" title="测试deploy是否成功"></a>测试deploy是否成功</h4><h2 id=""><a href="#" class="headerlink" title=""></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure></h2><h3 id="install-icalm-theme"><a href="#install-icalm-theme" class="headerlink" title="install icalm theme"></a>install icalm theme</h3><h5 id="install-from-github-by-git"><a href="#install-from-github-by-git" class="headerlink" title="install from github by git"></a>install from github by git</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/nameoverflow/hexo-theme-icalm.git themes/hexo-theme-icalm</span><br><span class="line"><span class="built_in">cd</span> themes/hexo-theme-icalm/</span><br><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></table></figure>
<p>update:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull &amp;&amp; git submodule update --remote</span><br></pre></td></tr></table></figure></p>
<h5 id="edit-config-yml-in-hexo-root-folder"><a href="#edit-config-yml-in-hexo-root-folder" class="headerlink" title="edit _config.yml in hexo_root folder"></a>edit _config.yml in hexo_root folder</h5><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="comment">## theme: landscape</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">hexo-theme-icalm</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure>
<h5 id="edit-config-yml-in-theme-folder-to-specify-picture-for-sidebar"><a href="#edit-config-yml-in-theme-folder-to-specify-picture-for-sidebar" class="headerlink" title="edit _config.yml in theme folder to specify picture for sidebar"></a>edit _config.yml in theme folder to specify picture for sidebar</h5><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line"><span class="comment"># Pictures shown on the sidebar</span></span><br><span class="line"><span class="comment"># Use the absolute URL after generating</span></span><br><span class="line"><span class="comment"># avatar: /assets/tree_small.png</span></span><br><span class="line"><span class="attr">avatar:</span> <span class="string">/assets/They3.jpg</span></span><br><span class="line"><span class="comment"># sidebar_background: /assets/header.png</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure></h2><h3 id="处理latex数学公式渲染问题"><a href="#处理latex数学公式渲染问题" class="headerlink" title="处理latex数学公式渲染问题"></a>处理latex数学公式渲染问题</h3><h4 id="重复一遍卸载-hexo-renderer-marked-和安装-hexo-renderer-kramed-的操作"><a href="#重复一遍卸载-hexo-renderer-marked-和安装-hexo-renderer-kramed-的操作" class="headerlink" title="重复一遍卸载 hexo-renderer-marked 和安装 hexo-renderer-kramed 的操作"></a>重复一遍卸载 hexo-renderer-marked 和安装 hexo-renderer-kramed 的操作</h4><p>我也不知道为什么，不这么做找不到下一步。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure></p>
<h4 id="修改-node-modules-hexo-renderer-kramed-lib-renderer-js，formatText函数更改成如下："><a href="#修改-node-modules-hexo-renderer-kramed-lib-renderer-js，formatText函数更改成如下：" class="headerlink" title="修改 node_modules/hexo-renderer-kramed/lib/renderer.js，formatText函数更改成如下："></a>修改 node_modules/hexo-renderer-kramed/lib/renderer.js，formatText函数更改成如下：</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">formatText</span>(<span class="params">text</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> text;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="同样的，重复一遍卸载-hexo-math-和重新安装-hexo-renderer-mathjax-的过程"><a href="#同样的，重复一遍卸载-hexo-math-和重新安装-hexo-renderer-mathjax-的过程" class="headerlink" title="同样的，重复一遍卸载 hexo-math 和重新安装 hexo-renderer-mathjax 的过程"></a>同样的，重复一遍卸载 hexo-math 和重新安装 hexo-renderer-mathjax 的过程</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-math --save</span><br><span class="line">npm install hexo-renderer-mathjax --save</span><br></pre></td></tr></table></figure>
<h4 id="更改-node-modules-hexo-renderer-mathjax-mathjax-html-的script-src段为如下："><a href="#更改-node-modules-hexo-renderer-mathjax-mathjax-html-的script-src段为如下：" class="headerlink" title="更改 node_modules/hexo-renderer-mathjax/mathjax.html 的script src段为如下："></a>更改 node_modules/hexo-renderer-mathjax/mathjax.html 的script src段为如下：</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="更改默认转义规则"><a href="#更改默认转义规则" class="headerlink" title="更改默认转义规则"></a>更改默认转义规则</h4><p>修改 node_modules\kramed\lib\rules\inline.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">//escape: /^\\([\\`*&#123;&#125;\[\]()#$+\-.!_&gt;])/,</span></span><br><span class="line"><span class="attr">escape</span>: <span class="regexp">/^\\([`*\[\]()# +\-.!_&gt;])/</span>,</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"><span class="comment">//em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span></span><br><span class="line"><span class="attr">em</span>: <span class="regexp">/^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h4 id="修改-config-yml，加入-mathjax、katex-段"><a href="#修改-config-yml，加入-mathjax、katex-段" class="headerlink" title="修改 _config.yml，加入 mathjax、katex 段"></a>修改 _config.yml，加入 mathjax、katex 段</h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mathjax</span></span><br><span class="line"><span class="attr">mathjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">katex:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">allpost:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">copy_tex:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h4 id="最后，每一篇需要用到-mathjax-的post，在-title-段加入mathjax-true"><a href="#最后，每一篇需要用到-mathjax-的post，在-title-段加入mathjax-true" class="headerlink" title="最后，每一篇需要用到 mathjax 的post，在 title 段加入mathjax:true"></a>最后，每一篇需要用到 mathjax 的post，在 title 段加入mathjax:true</h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Testing</span> <span class="string">Mathjax</span> <span class="string">with</span> <span class="string">Hexo</span></span><br><span class="line"><span class="attr">category:</span> <span class="string">Uncategorized</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2017</span><span class="string">/05/03</span></span><br><span class="line"><span class="attr">mathjax:</span> <span class="literal">true</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>
      
    </div>
</article>

    </li>
  
</ul>


            <footer>
    <div>© 2023 - Mick Huang </div>
    <div>
        <span>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
        </span>
        ,
        <span>
            Theme - <a target="_blank" rel="noopener" href="https://github.com/nameoverflow/hexo-theme-icalm">Icalm</a>
        </span>
    </div>
</footer>

        </div>
    </div>
</div>

<script src="/js/pager/dist/singlepager.js"></script>

<script>
var sp = new Pager('data-pager-shell')

</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>